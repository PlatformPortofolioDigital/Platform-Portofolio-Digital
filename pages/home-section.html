<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home Section</title>

  <!-- CSS -->
  <link rel="stylesheet" href="../assets/css/variables.css">
  <link rel="stylesheet" href="../assets/css/style.css">
  <link rel="stylesheet" href="../assets/css/responsive.css">

  <!-- ICON -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* ===== FULLSCREEN HERO (AMAN UNTUK IFRAME) ===== */
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      overflow: hidden;
    }

    .hero.hero-video {
      height: 100vh !important;
      min-height: 100vh !important;
      padding: 0 !important;
      margin: 0 !important;
      position: relative;
      overflow: hidden;
    }

    .hero-content {
      position: relative;
      z-index: 3;
    }

    /* ===== WELCOME OVERLAY ===== */
    #welcome-screen {
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--overlay);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      transition: opacity .35s ease, visibility .35s ease;
    }

    #welcome-screen.hide {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    #skip-intro {
      cursor: pointer;
    }

    /* FIX WARNA HERO */
    .hero-title {
      color: #ffffff !important;
      opacity: 1 !important;
    }

    /* WELCOME THEME */
    #welcome-screen .welcome-content,
    #welcome-screen h2,
    #welcome-screen h3 {
      color: var(--text);
    }

    #welcome-screen #skip-intro {
      background: rgba(255, 255, 255, 0.10);
      color: var(--text);
      border: 1px solid var(--border);
    }

    [data-theme="dark"] #welcome-screen #skip-intro {
      background: rgba(255, 255, 255, 0.08);
    }
  </style>
</head>

<body class="home-page embedded">

  <!-- HERO -->
  <section class="hero hero-video" id="homeHero">
    <video autoplay muted loop playsinline class="bg-video">
      <source src="../assets/video/bg-coding.mp4" type="video/mp4">
    </video>

    <div class="hero-content">
      <h1 class="hero-title">Platform Portofolio Digital</h1>
      <p>
        Kami adalah Kelompok 2, tim yang berfokus pada pengembangan solusi digital
        kreatif dan modern. Website ini dibangun sebagai media portofolio untuk
        menampilkan karya, ide, serta proses pembelajaran kami di bidang teknologi
        dan pengembangan web.
      </p>
    </div>

    <div class="hero-icons">
      <svg viewBox="0 0 24 24" class="icon">
        <polyline points="16 18 22 12 16 6" />
        <polyline points="8 6 2 12 8 18" />
      </svg>
      <svg viewBox="0 0 24 24" class="icon">
        <circle cx="12" cy="12" r="3" />
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06
                 a2 2 0 0 1-2.83 2.83l-.06-.06
                 a1.65 1.65 0 0 0-1.82-.33
                 a1.65 1.65 0 0 0-1 1.51V21
                 a2 2 0 0 1-4 0v-.09
                 a1.65 1.65 0 0 0-1-1.51
                 a1.65 1.65 0 0 0-1.82.33l-.06.06
                 a2 2 0 1 1-2.83-2.83l.06-.06
                 a1.65 1.65 0 0 0 .33-1.82
                 a1.65 1.65 0 0 0-1.51-1H3
                 a2 2 0 0 1 0-4h.09
                 a1.65 1.65 0 0 0 1.51-1
                 a1.65 1.65 0 0 0-.33-1.82l-.06-.06
                 a2 2 0 1 1 2.83-2.83l.06.06
                 a1.65 1.65 0 0 0 1.82.33
                 H9a1.65 1.65 0 0 0 1-1.51V3
                 a2 2 0 0 1 4 0v.09
                 a1.65 1.65 0 0 0 1 1.51
                 a1.65 1.65 0 0 0 1.82-.33l.06-.06
                 a2 2 0 1 1 2.83 2.83l-.06.06
                 a1.65 1.65 0 0 0-.33 1.82
                 V9c0 .67.39 1.28 1 1.51H21
                 a2 2 0 0 1 0 4h-.09
                 a1.65 1.65 0 0 0-1.51 1z" />
      </svg>
      <svg viewBox="0 0 24 24" class="icon">
        <path d="M18 10a4 4 0 0 0-7.9-1.2A5 5 0 1 0 6 19h12a4 4 0 0 0 0-8z" />
      </svg>
      <svg viewBox="0 0 24 24" class="icon">
        <ellipse cx="12" cy="5" rx="9" ry="3" />
        <path d="M3 5v6c0 1.7 4 3 9 3s9-1.3 9-3V5" />
        <path d="M3 11v6c0 1.7 4 3 9 3s9-1.3 9-3v-6" />
      </svg>
    </div>
  </section>

  <!-- WELCOME OVERLAY -->
  <div id="welcome-screen">
    <div class="welcome-content">
      <div class="welcome-icons">
        <span>‚öôÔ∏è</span>
        <span>üíª</span>
        <span>üöÄ</span>
      </div>
      <h2>Welcome To Our</h2>
      <h3>Portofolio Website</h3>
      <button id="skip-intro">Masuk</button>
    </div>
  </div>

  <!-- ===============================
       IFRAME HEIGHT & THEME SYNC
  ================================ -->
  <script>
    function sendHeight() {
      const h = Math.max(window.innerHeight, document.documentElement.clientHeight);
      parent.postMessage({ type: "IFRAME_HEIGHT", height: h }, "*");
    }

    document.addEventListener("DOMContentLoaded", () => {
      const welcome = document.getElementById("welcome-screen");
      const btn = document.getElementById("skip-intro");

      sendHeight();

      const KEY = "welcomeShown";
      const hideWelcome = () => {
        welcome.classList.add("hide");
        setTimeout(sendHeight, 400);
      };

      if (sessionStorage.getItem(KEY)) {
        welcome.classList.add("hide");
        return;
      }

      sessionStorage.setItem(KEY, "true");
      setTimeout(hideWelcome, 1800);
      if (btn) btn.addEventListener("click", hideWelcome);
    });

    window.addEventListener("resize", sendHeight);

    window.addEventListener("message", (e) => {
      if (e.data?.type === "REQUEST_HEIGHT") sendHeight();
      if (e.data?.type === "THEME_CHANGE") {
        document.documentElement.setAttribute("data-theme", e.data.theme);
      }
    });
  </script>

  <script src="../assets/js/theme-sync.js"></script>
</body>

</html>
